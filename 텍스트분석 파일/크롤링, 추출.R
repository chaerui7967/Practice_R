library("rvest")
library("R6")

url_base <- 'http://movie.naver.com/movie/point/af/list.nhn?st=mcode&sword=159037&target=after&page='

##
all.reviews <- c()


for(page in 1:20){
  
  url <- paste(url_base,page,sep='',encoding="euc-kr")
  
  # read_html ????????? ???????????? html ??????지??? htxt 변?????? ??????
  
  htxt <- read_html(url)
  
  # html_nodes ????????? ???????????? list_netizen class??? ???????????? 부분을 table 변?????? ??????
  
  table <- html_nodes(htxt,'.list_netizen')
  
  # html_nodes ????????? ???????????? title class??? ???????????? 부분을 content 변?????? ??????
  
  content <- html_nodes(table, '.title')
  
  # html_text ????????? ???????????? text 부분을 reviews 변?????? ??????
  
  reviews <- html_text(content)
  
  if(length(reviews)==0){break}
  
  all.reviews <- c(all.reviews, reviews)
  
  print(page)
  
}

write.table(all.reviews,'��??.txt')








